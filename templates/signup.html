{% extends "layout.html" %}

{% block title %}Sign Up - Vedyura{% endblock %}

{% block content %}
<header class="main-header">
    <nav class="navbar">
        <div class="navbar-logo">
            <a href="{{ url_for('home') }}">Vedyura</a>
        </div>
        <div class="navbar-links">
            <a href="{{ url_for('home') }}">Home</a>
            <a href="{{ url_for('contact_us') }}">Contact Us</a>
            <button id="dark-mode-toggle" class="dark-mode-button">Toggle Dark Mode</button>
        </div>
        <div class="navbar-action">
            <a href="{{ url_for('signup') }}" class="btn btn-primary active">Sign Up</a>
        </div>
    </nav>
</header>

<main class="page-content">
    <section class="signup-section">
        <!-- CORRECTED: Using signup-container to match the CSS file -->
        <div class="signup-container">
            <h2>Join Vedyura</h2>
            <p>Please select your role to get started.</p>

            <!-- Flash messages for errors -->
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <ul class="flash-messages" style="list-style: none; padding: 0;">
                    {% for category, message in messages %}
                        <li class="flash-message">{{ message }}</li>
                    {% endfor %}
                    </ul>
                {% endif %}
            {% endwith %}

            <!-- CORRECTED: Using role-selector to match the CSS file -->
            <div class="role-selector">
                <button class="role-button" id="doctor-btn">I am a Doctor</button>
                <button class="role-button" id="patient-btn">I am a Patient</button>
            </div>

            <!-- Doctor Login Form (Initially hidden) -->
            <div id="doctor-login-form" class="hidden">
                <h3>Doctor Sign In</h3>
                <!-- CORRECTED: Using login-form class to match CSS -->
                <form class="login-form" action="{{ url_for('doctor_login') }}" method="POST">
                    <div class="form-group">
                        <label for="user_id">User ID</label>
                        <input type="text" id="user_id" name="user_id" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Sign In</button>
                </form>
            </div>

            <!-- Patient Login Options (Initially hidden) -->
            <div id="patient-login-options" class="hidden">
                <h3>Patient Sign In / Sign Up</h3>
                <div class="patient-options">
                    <a href="#" class="btn btn-google">Sign In with Google</a>
                    <a href="{{ url_for('patient_bypass_login') }}" class="btn btn-bypass">Bypass Login (Dev)</a>
                </div>
            </div>
        </div>
    </section>
</main>
{% endblock %}
